半关状态写入数据  会sigpipe提前终止程序

